<!DOCTYPE html>
<html>
<head>
  <title>GA4 Test Site</title>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-J8610TSKR0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-J8610TSKR0');

    // Function to set the user ID (customer_id)
    function setUserId(customerId) {
        gtag('set', 'user_properties', {
          'customer_id': customerId
        });
    }

    // Function to send events with different parameters (now optional)
    function sendTestEvent(eventName) {
      gtag('event', eventName); // No need to pass customer_id here anymore
    }

    function sendPageViewWithParams(pageType) {
      gtag('event', 'page_view', {
        'page_location': location.href,
        'page_path': location.pathname,
        'page_title': document.title,
        'page_type': pageType
      });
    }

    // Set the user ID when the page loads (you'd get this dynamically in a real app)
    setUserId('12345'); // Set a default customer ID for testing
    sendPageViewWithParams('landing_page');

  </script>
</head>
<body>
  <h1>Welcome to the GA4 Test Site</h1>
  <p>This is a test website for Google Analytics 4.</p>

  <button onclick="sendTestEvent('button_click_gold');">Test Button</button><br>
    <button onclick="sendPageViewWithParams('home_page')">Send page view with home page parameter</button><br>

</body>
</html>

<!-- // Get the customer ID from your application (e.g., from a data layer, cookie, or server-side rendering).
const customerId = getCustomerId(); // Replace getCustomerId() with your actual logic

// Add the customer ID to the event
<button onclick="gtag('event', 'test_button_click', { 'customer_id': customerId, 'user_tier': 'Gold' });">Test Button</button> -->
